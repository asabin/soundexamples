<html>
<body>

<!--
<style>
  .button {
    background-color: black;
    color: white;
    border-radius: 6px;
    border-color: black;
  }
</style>
-->
<div>
  <h1 id="text01" class="style2">Sound Examples</h1>
  <p id="text06" class="style1">Listen to the performance of devices (good, better, best) when trying to hear in quiet</p>
<div><br>

<form>
 <input type="radio" id="rb1" name="rb1" value="off">
 <label for="label_off"> off </label><br>
 <input type="radio" id="rb2" name="rb1" value="good">
 <label for="label_good"> good</label><br>
 <input type="radio" id="rb3" name="rb1" value="better">
 <label for="label_better"> better</label><br>
 <input type="radio" id="rb4" name="rb1" value="best">
 <label for="label_best"> best</label><br>
</form>

<div>
 <i> Now playing </i> <i id="filePlaying">(null)</i>
 <br><br>
</div>

<div>
 <audio id="myAudio" controls>
   <source src='openear_quiet.wav' type="audio/mpeg">
   Your browser does not support the audio element.
 </audio><br>
</div>

<script>
var rb1 = document.getElementById("rb1");
var rb2 = document.getElementById("rb2");
var rb3 = document.getElementById("rb3");
var rb4 = document.getElementById("rb4");
rb1.addEventListener('click', validate);
rb1.addEventListener('load', initPage);
rb2.addEventListener('click', validate);
rb2.addEventListener('load', initPage);
rb3.addEventListener('click', validate);
rb3.addEventListener('load', initPage);
rb4.addEventListener('click', validate);
rb4.addEventListener('load', initPage);

var state = 1;
var time = 0;
var x = document.getElementById("myAudio");

var src1 = "openear_quiet.wav";
var des1 = "off (openear quiet)";
var src2 = "WV25.wav";
var des2 = "good (WV25)";
var src3 = "WV50.wav";
var des3 = "better (WV50)";
var src4 = "WV75.wav";
var des4 = "best (WV75)";

var filePlaying = document.getElementById("filePlaying");
filePlaying.innerHTML = des1;


function validate() {

//Collect rb state... could be combined w/ next section
  if (rb1.checked){
    state = 1
  }
  if (rb2.checked){
    state = 2
  }
  if (rb3.checked){
    state = 3
  }
  if (rb4.checked){
    state = 4
  }

  switch (state) {
    case 1:
      time = x.currentTime;
      x.pause();
      filePlaying.innerHTML = des1;
      // filePlaying.innerHTML = des1
      //cb.innerHTML = "1";
      x.src = src1;
      x.currentTime = time;
      x.play();
      break;
    case 2:
      time = x.currentTime;
      x.pause();
      filePlaying.innerHTML = des2
      //cb.innerHTML = "2";
      x.src = src2;
      x.currentTime = time;
      x.play();
      break;
    case 3:
      time = x.currentTime;
      x.pause();
      filePlaying.innerHTML = des3
      //cb.innerHTML = "2";
      x.src = src3;
      x.currentTime = time;
      x.play();
      break;
    case 4:
      time = x.currentTime;
      x.pause();
      filePlaying.innerHTML = des4
      //cb.innerHTML = "2";
      x.src = src4;
      x.currentTime = time;
      x.play();
      break;

    default:

  }

}

function initPage() {
	filePlaying.innerHTML = des1;
}

</script>
</body>
</HTML>
